"use strict";(self.webpackChunkgeotab=self.webpackChunkgeotab||[]).push([[179],{645:(e,t,a)=>{var l=a(294),c=a(935),n=a(117);const s=function*(e){for(;;)yield"_react_component_"+e++}(0);function o(e,t){return e>t?1:e<t?-1:0}(()=>{let e=!0;setInterval((()=>e=!0),200)})();const r=function({title:e,value:t}){return l.createElement("li",{key:t,className:["mdc-deprecated-list-item",...t===this.value&&["mdc-deprecated-list-item--selected"]||[]].join(" "),"data-value":t,role:"option"},l.createElement("span",{className:"mdc-deprecated-list-item__ripple"}),l.createElement("span",{className:"mdc-deprecated-list-item__text"},e))},i=({options:e,value:t,placeholder:a="Select item",callback:c=(()=>{})})=>{const[o,i]=(0,l.useState)(null),[d]=(0,l.useState)(s.next().value);(0,l.useEffect)((()=>{if(o)return()=>o.destroy();const e=new n.H(document.getElementById(d));return i(e),e.listen("MDCSelect:change",(({detail:{value:e}})=>c(e))),()=>e.destroy()}),[]);const{title:m=""}=(0,l.useMemo)((()=>e.find((({value:e})=>e===t))??{}),[e,t]),u=(0,l.useMemo)((()=>e.map(r,{value:t})),[e,t]);return l.createElement("div",{id:d,className:"mdc-select mdc-select--filled auto-width"},l.createElement("div",{className:"mdc-select__anchor",role:"button","aria-haspopup":"listbox","aria-expanded":"false","aria-labelledby":"demo-label demo-selected-text"},l.createElement("span",{className:"mdc-select__ripple"}),l.createElement("span",{id:"demo-label",className:"mdc-floating-label"},a),l.createElement("span",{className:"mdc-select__selected-text-container"},l.createElement("span",{id:"demo-selected-text",className:"mdc-select__selected-text"},m)),l.createElement("span",{className:"mdc-select__dropdown-icon"},l.createElement("svg",{className:"mdc-select__dropdown-icon-graphic",viewBox:"7 10 10 5",focusable:"false"},l.createElement("polygon",{className:"mdc-select__dropdown-icon-inactive",stroke:"none",fillRule:"evenodd",points:"7 10 12 15 17 10"}),l.createElement("polygon",{className:"mdc-select__dropdown-icon-active",stroke:"none",fillRule:"evenodd",points:"7 15 12 10 17 15"}))),l.createElement("span",{className:"mdc-line-ripple"})),l.createElement("div",{className:"mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth"},l.createElement("ul",{className:"mdc-deprecated-list",role:"listbox","aria-label":"Value picker listbox"},u)))},d={param1:{options:[{title:"Option 1",value:"1"},{title:"Option 2",value:"2"},{title:"Option 3",value:"3"}],value:"",label:"Select parameter 1"},param2:{options:[{title:"Option 1",value:"1"},{title:"Option 2",value:"2"},{title:"Option 3",value:"3"}],value:"",label:"Select parameter 2"},param3:{options:[{title:"Option 1",value:"1"},{title:"Option 2",value:"2"},{title:"Option 3",value:"3"}],value:"",label:"Select parameter 3"}},m=([e,{options:t,label:a,value:c}])=>l.createElement("div",{key:e,className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-phone mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-4-desktop"},l.createElement(i,{options:t,value:c,placeholder:a})),u=()=>l.createElement("div",{className:"mdc-layout-grid__inner"},Object.entries(d).map(m));var p=a(243),b=a.n(p);a(965),a(803),a(134),a(94),a(403);const[_,E]=[59.121151,37.927722],h=()=>((0,l.useEffect)((()=>{const e=b().map("leaflet-map").setView([_,E],18);b().tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiZ29hbWluIiwiYSI6ImNrdWp0aGJyMzBuNHIyb3A2Zm1mY3R3cHYifQ.5fKKUsxTSCF276fZ9igLBQ"}).addTo(e),b().marker([_,E]).addTo(e).bindPopup("Severotek").openPopup()}),[]),l.createElement("div",{id:"leaflet-map",className:"auto-height"}));var v=a(828);const g={ascending:0,descending:1},y=(e,t)=>l.createElement("th",{key:t,className:"mdc-data-table__header-cell mdc-data-table__header-cell--with-sort",role:"columnheader",scope:"col","data-column-id":`column-${t}`},l.createElement("div",{className:"mdc-data-table__header-cell-wrapper"},l.createElement("div",{className:"mdc-data-table__header-cell-label"},e),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__sort-icon-button","aria-label":`Sort by column-${t}`,"aria-describedby":`${t}-label`},"arrow_upward"),l.createElement("div",{className:"mdc-data-table__sort-status-label","aria-hidden":"true",id:`${t}-label`}))),f=(e,t)=>l.createElement("td",{key:t,className:"mdc-data-table__cell"},t?e:new Date(e).toLocaleString()),N=({id:e,columns:t})=>l.createElement("tr",{key:e,className:"mdc-data-table__row"},t.map(f)),k=({head:e,body:t,onClickCallback:a,children:c,onSortCallback:n=(()=>{})})=>{const[s,o]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(s)return()=>e.destroy();const e=new v.T(document.getElementById("app-data-table"));return o(e),e.listen("MDCDataTable:sorted",(({detail:{columnIndex:e,sortValue:t}})=>{n([e,g[t]])})),()=>e.destroy()}),[]),(0,l.useLayoutEffect)((()=>{s?.layout()}),[t]);const r=(0,l.useMemo)((()=>e.map(y)),[e]),i=(0,l.useMemo)((()=>t.map(N)),[t]);return l.createElement("div",{id:"app-data-table",className:"mdc-data-table auto-width"},l.createElement("div",{className:"mdc-data-table__table-container"},l.createElement("table",{className:"mdc-data-table__table"},l.createElement("thead",null,l.createElement("tr",{className:"mdc-data-table__header-row"},r)),l.createElement("tbody",{className:"mdc-data-table__content",onClick:a},i))),c)},w=[{title:"10",value:10},{title:"50",value:50},{title:"100",value:100}],x=({total:e=0,pageSize:t=10,callback:a=(()=>{})})=>{const{current:c}=(0,l.useRef)({size:Math.min(e,t),index:0,total:e}),{size:n,index:s,total:o}=c,r=(0,l.useMemo)((()=>s===Math.floor(o/n)),[n,s,o]),d=(0,l.useCallback)((()=>{a([n,c.index=0])}),[a]),m=(0,l.useCallback)((()=>{a([n,c.index=Math.max(c.index-1,0)])}),[a]),u=(0,l.useCallback)((()=>{a([n,c.index=Math.min(c.index+1,Math.floor(c.total/c.size))])}),[a]),p=(0,l.useCallback)((()=>{a([n,c.index=Math.floor(c.total/c.size)])}),[a]),b=(0,l.useCallback)((e=>{a([c.size=e,s])}),[]);return l.createElement("div",{className:"mdc-data-table__pagination"},l.createElement("div",{className:"mdc-data-table__pagination-trailing"},l.createElement("div",{className:"mdc-data-table__pagination-rows-per-page"},l.createElement("div",{className:"mdc-data-table__pagination-rows-per-page-label"},"Records per page"),l.createElement(i,{options:w,value:10,placeholder:"Page size",callback:b})),l.createElement("div",{className:"mdc-data-table__pagination-navigation"},l.createElement("div",{className:"mdc-data-table__pagination-total"},n*s+1," - ",n*(s+1)," of ",o),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-first-page":"true",disabled:!s,onClick:d},l.createElement("div",{className:"mdc-button__icon"},"first_page")),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-prev-page":"true",disabled:!s,onClick:m},l.createElement("div",{className:"mdc-button__icon"},"chevron_left")),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-next-page":"true",onClick:u,disabled:r},l.createElement("div",{className:"mdc-button__icon"},"chevron_right")),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-last-page":"true",onClick:p,disabled:r},l.createElement("div",{className:"mdc-button__icon"},"last_page")))))},C=[[({columns:[e]},{columns:[t]})=>o(e,t),({columns:[e]},{columns:[t]})=>o(t,e)],[({columns:[,e]},{columns:[,t]})=>o(e,t),({columns:[,e]},{columns:[,t]})=>o(t,e)],[({columns:[,,e]},{columns:[,,t]})=>o(e,t),({columns:[,,e]},{columns:[,,t]})=>o(t,e)],[({columns:[,,,e]},{columns:[,,,t]})=>o(e,t),({columns:[,,,e]},{columns:[,,,t]})=>o(t,e)]],M=["Toyota","Ford","Mitsubishi","Volkswagen","BMW"],S=["Car accident","Engine fault","Tyre deflate","Illegal trespassing"],O=["Time","Vehicle","Type","Driver"],I=new Array(112).fill(void 0).map(((...[,e])=>{const t=new Date;return t.setDate(Math.round(10*Math.random())),{id:`row-${e}`,columns:[+t,M[Math.floor(Math.random()*M.length)],S[Math.floor(Math.random()*S.length)],"John Dow"]}})),T=()=>{const[e,t]=(0,l.useState)(I.slice(0,10)),{current:a}=(0,l.useRef)({slice:{from:0,to:10},sort:{by:0,direction:0}}),c=(0,l.useCallback)((([e,l])=>{const c=I.sort(C[a.sort.by][a.sort.direction]).slice(a.slice.from=e*l,a.slice.to=e*(l+1));t(c)}),[e]),n=(0,l.useCallback)((([e,l])=>{const c=I.sort(C[a.sort.by=e][a.sort.direction=l]).slice(a.slice.from,a.slice.to);t(c)}),[e]);return l.createElement(k,{head:O,body:e,onSortCallback:n},l.createElement(x,{total:I.length,pageSize:10,callback:c}))};var R=a(974);const z=()=>((0,l.useEffect)((()=>{new R.t(document.getElementById("top-app-bar"))})),l.createElement("div",{className:"mdc-layout-grid__inner"},l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement("h1",{className:"mdc-typography--headline4 centered"},"Real time data observation")),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement(u,null)),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12",style:{height:"100vw",maxHeight:"400px"}},l.createElement(h,null)),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement("h2",{className:"mdc-typography--headline5 centered"},"Event log")),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement(T,null))));var D=a(613);const B={_listeners:{},subscribe(e,t,a=null){this._listeners[e]=[...this._listeners[e]??[],[t,a]]},dispatch(e,t){this._listeners[e]?.forEach((([e,a])=>{e.call(a,t)}))},unsubscribe(e,t){const a=this._listeners[e]?.findIndex(t)??-1;a>-1&&this._listeners[e].splice(a,1)},async makeRequest(e){let t;this.dispatch(ACTION.PENDING_REQUEST);try{const a=await fetch(e);try{t=await a.clone().json()}catch(e){t=await a.text()}if(!a.ok)throw new Error(`${t?.error??t}`);return t}catch({message:e}){this.dispatch(ACTION.ERROR_REQUEST,e)}finally{this.dispatch(ACTION.COMPLETE_REQUEST)}}},P=()=>{const[e,t]=(0,l.useState)(null),[a,n]=(0,l.useState)(""),s=(0,l.useCallback)((()=>n("")));return(0,l.useEffect)((()=>{if(e)return()=>e.destroy();const a=new D.G(document.getElementById("app-snackbar"));return a.labelText="Error",a.closeOnEscape=!0,a.listen("MDCSnackbar:closed",s),t(a),B.subscribe("error_request",n),()=>a.destroy()}),[]),(0,l.useMemo)((()=>{e&&(a?e.open():e.close())}),[a]),(0,c.createPortal)(l.createElement("aside",{id:"app-snackbar",className:"mdc-snackbar"},l.createElement("div",{className:"mdc-snackbar__surface",role:"status","aria-relevant":"additions"},l.createElement("div",{className:"mdc-snackbar__label","aria-atomic":"false"},a))),document.body)};c.render(l.createElement(l.Fragment,null,l.createElement(z,null),l.createElement(P,null)),document.getElementById("root"))},650:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[216],(()=>(t(645),t(650)))),e.O()}]);