"use strict";(self.webpackChunkgeotab=self.webpackChunkgeotab||[]).push([[179],{253:(e,a,t)=>{var l=t(294),c=t(935),s=t(117);const r=function*(e){for(;;)yield"_react_component_"+e++}(0);function n(e,a){return e>a?1:e<a?-1:0}(()=>{let e=!0;setInterval((()=>e=!0),200)})();const o=function({title:e,value:a}){return l.createElement("li",{key:a,className:["mdc-deprecated-list-item",...a===this.value&&["mdc-deprecated-list-item--selected"]||[]].join(" "),"data-value":a,role:"option"},l.createElement("span",{className:"mdc-deprecated-list-item__ripple"}),l.createElement("span",{className:"mdc-deprecated-list-item__text"},e))},i=({options:e,value:a,placeholder:t="Select item",callback:c=(()=>{})})=>{const[n,i]=(0,l.useState)(null),[m]=(0,l.useState)(r.next().value);(0,l.useEffect)((()=>{if(n)return()=>n.destroy();const e=new s.H(document.getElementById(m));return i(e),e.listen("MDCSelect:change",(({detail:{value:e}})=>c(e))),()=>e.destroy()}),[]);const{title:d=""}=(0,l.useMemo)((()=>e.find((({value:e})=>e===a))??{}),[e,a]),u=(0,l.useMemo)((()=>e.map(o,{value:a})),[e,a]);return l.createElement("div",{id:m,className:"mdc-select mdc-select--filled auto-width"},l.createElement("div",{className:"mdc-select__anchor",role:"button","aria-haspopup":"listbox","aria-expanded":"false","aria-labelledby":"demo-label demo-selected-text"},l.createElement("span",{className:"mdc-select__ripple"}),l.createElement("span",{id:"demo-label",className:"mdc-floating-label"},t),l.createElement("span",{className:"mdc-select__selected-text-container"},l.createElement("span",{id:"demo-selected-text",className:"mdc-select__selected-text"},d)),l.createElement("span",{className:"mdc-select__dropdown-icon"},l.createElement("svg",{className:"mdc-select__dropdown-icon-graphic",viewBox:"7 10 10 5",focusable:"false"},l.createElement("polygon",{className:"mdc-select__dropdown-icon-inactive",stroke:"none",fillRule:"evenodd",points:"7 10 12 15 17 10"}),l.createElement("polygon",{className:"mdc-select__dropdown-icon-active",stroke:"none",fillRule:"evenodd",points:"7 15 12 10 17 15"}))),l.createElement("span",{className:"mdc-line-ripple"})),l.createElement("div",{className:"mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth"},l.createElement("ul",{className:"mdc-deprecated-list",role:"listbox","aria-label":"Value picker listbox"},u)))},m={param1:{options:[{title:"Option 1",value:"1"},{title:"Option 2",value:"2"},{title:"Option 3",value:"3"}],value:"",label:"Select parameter 1"},param2:{options:[{title:"Option 1",value:"1"},{title:"Option 2",value:"2"},{title:"Option 3",value:"3"}],value:"",label:"Select parameter 2"},param3:{options:[{title:"Option 1",value:"1"},{title:"Option 2",value:"2"},{title:"Option 3",value:"3"}],value:"",label:"Select parameter 3"}},d=([e,{options:a,label:t,value:c}])=>l.createElement("div",{key:e,className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12-phone mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-4-desktop"},l.createElement(i,{options:a,value:c,placeholder:t})),u=()=>l.createElement("div",{className:"mdc-layout-grid__inner"},Object.entries(m).map(d));var p=t(243),_=t.n(p);t(965),t(803),t(134),t(94),t(403);const[b,g]=[59.121151,37.927722],E=()=>((0,l.useEffect)((()=>{const e=_().map("leaflet-map").setView([b,g],18);_().tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiZ29hbWluIiwiYSI6ImNrdWp0aGJyMzBuNHIyb3A2Zm1mY3R3cHYifQ.5fKKUsxTSCF276fZ9igLBQ"}).addTo(e),_().marker([b,g]).addTo(e).bindPopup("Severotek").openPopup()}),[]),l.createElement("div",{id:"leaflet-map",className:"auto-height"}));var h=t(828);const v={ascending:0,descending:1},y=(e,a)=>l.createElement("th",{key:a,className:"mdc-data-table__header-cell mdc-data-table__header-cell--with-sort",role:"columnheader",scope:"col","data-column-id":`column-${a}`},l.createElement("div",{className:"mdc-data-table__header-cell-wrapper"},l.createElement("div",{className:"mdc-data-table__header-cell-label"},e),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__sort-icon-button","aria-label":`Sort by column-${a}`,"aria-describedby":`${a}-label`},"arrow_upward"),l.createElement("div",{className:"mdc-data-table__sort-status-label","aria-hidden":"true",id:`${a}-label`}))),f=(e,a)=>l.createElement("td",{key:a,className:"mdc-data-table__cell"},a?e:new Date(e).toLocaleString()),N=({id:e,columns:a})=>l.createElement("tr",{key:e,className:"mdc-data-table__row"},a.map(f)),k=({head:e,body:a,onClickCallback:t,children:c,onSortCallback:s=(()=>{})})=>{const[r,n]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(r)return()=>e.destroy();const e=new h.T(document.getElementById("app-data-table"));return n(e),e.listen("MDCDataTable:sorted",(({detail:{columnIndex:e,sortValue:a}})=>{s([e,v[a]])})),()=>e.destroy()}),[]),(0,l.useLayoutEffect)((()=>{r?.layout()}),[a]);const o=(0,l.useMemo)((()=>e.map(y)),[e]),i=(0,l.useMemo)((()=>a.map(N)),[a]);return l.createElement("div",{id:"app-data-table",className:"mdc-data-table auto-width"},l.createElement("div",{className:"mdc-data-table__table-container"},l.createElement("table",{className:"mdc-data-table__table"},l.createElement("thead",null,l.createElement("tr",{className:"mdc-data-table__header-row"},o)),l.createElement("tbody",{className:"mdc-data-table__content",onClick:t},i))),c)},w=[{title:"10",value:10},{title:"50",value:50},{title:"100",value:100}],x=({total:e=0,pageSize:a=10,callback:t=(()=>{})})=>{const{current:c}=(0,l.useRef)({size:Math.min(e,a),index:0,total:e}),{size:s,index:r,total:n}=c,o=(0,l.useMemo)((()=>r===Math.floor(n/s)),[s,r,n]),m=(0,l.useCallback)((()=>{t([s,c.index=0])}),[t]),d=(0,l.useCallback)((()=>{t([s,c.index=Math.max(c.index-1,0)])}),[t]),u=(0,l.useCallback)((()=>{t([s,c.index=Math.min(c.index+1,Math.floor(c.total/c.size))])}),[t]),p=(0,l.useCallback)((()=>{t([s,c.index=Math.floor(c.total/c.size)])}),[t]),_=(0,l.useCallback)((e=>{t([c.size=e,r])}),[]);return l.createElement("div",{className:"mdc-data-table__pagination"},l.createElement("div",{className:"mdc-data-table__pagination-trailing"},l.createElement("div",{className:"mdc-data-table__pagination-rows-per-page"},l.createElement("div",{className:"mdc-data-table__pagination-rows-per-page-label"},"Records per page"),l.createElement(i,{options:w,value:10,placeholder:"Page size",callback:_})),l.createElement("div",{className:"mdc-data-table__pagination-navigation"},l.createElement("div",{className:"mdc-data-table__pagination-total"},s*r+1," - ",s*(r+1)," of ",n),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-first-page":"true",disabled:!r,onClick:m},l.createElement("div",{className:"mdc-button__icon"},"first_page")),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-prev-page":"true",disabled:!r,onClick:d},l.createElement("div",{className:"mdc-button__icon"},"chevron_left")),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-next-page":"true",onClick:u,disabled:o},l.createElement("div",{className:"mdc-button__icon"},"chevron_right")),l.createElement("button",{className:"mdc-icon-button material-icons mdc-data-table__pagination-button","data-last-page":"true",onClick:p,disabled:o},l.createElement("div",{className:"mdc-button__icon"},"last_page")))))},C=[[({columns:[e]},{columns:[a]})=>n(e,a),({columns:[e]},{columns:[a]})=>n(a,e)],[({columns:[,e]},{columns:[,a]})=>n(e,a),({columns:[,e]},{columns:[,a]})=>n(a,e)],[({columns:[,,e]},{columns:[,,a]})=>n(e,a),({columns:[,,e]},{columns:[,,a]})=>n(a,e)],[({columns:[,,,e]},{columns:[,,,a]})=>n(e,a),({columns:[,,,e]},{columns:[,,,a]})=>n(a,e)]],M=["Toyota","Ford","Mitsubishi","Volkswagen","BMW"],S=["Car accident","Engine fault","Tyre deflate","Illegal trespassing"],I=["Time","Vehicle","Type","Driver"],O=new Array(112).fill(void 0).map(((...[,e])=>{const a=new Date;return a.setDate(Math.round(10*Math.random())),{id:`row-${e}`,columns:[+a,M[Math.floor(Math.random()*M.length)],S[Math.floor(Math.random()*S.length)],"John Dow"]}})),T=()=>{const[e,a]=(0,l.useState)(O.slice(0,10)),{current:t}=(0,l.useRef)({slice:{from:0,to:10},sort:{by:0,direction:0}}),c=(0,l.useCallback)((([e,l])=>{const c=O.sort(C[t.sort.by][t.sort.direction]).slice(t.slice.from=e*l,t.slice.to=e*(l+1));a(c)}),[e]),s=(0,l.useCallback)((([e,l])=>{const c=O.sort(C[t.sort.by=e][t.sort.direction=l]).slice(t.slice.from,t.slice.to);a(c)}),[e]);return l.createElement(k,{head:I,body:e,onSortCallback:s},l.createElement(x,{total:O.length,pageSize:10,callback:c}))};var D=t(974);const B=()=>((0,l.useEffect)((()=>{new D.t(document.getElementById("top-app-bar"))})),l.createElement("div",{className:"mdc-layout-grid__inner"},l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement("h1",{className:"mdc-typography--headline4 centered"},"Real time data observation")),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement(u,null)),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12",style:{height:"100vw",maxHeight:"400px"}},l.createElement(E,null)),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement("h2",{className:"mdc-typography--headline5 centered"},"Event log")),l.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},l.createElement(T,null))));var R=t(825);const z={_listeners:{},subscribe(e,a,t=null){this._listeners[e]=[...this._listeners[e]??[],[a,t]]},dispatch(e,a){this._listeners[e]?.forEach((([e,t])=>{e.call(t,a)}))},unsubscribe(e,a){const t=this._listeners[e]?.findIndex(a)??-1;t>-1&&this._listeners[e].splice(t,1)},async makeRequest(e){let a;this.dispatch(ACTION.PENDING_REQUEST);try{const t=await fetch(e);try{a=await t.clone().json()}catch(e){a=await t.text()}if(!t.ok)throw new Error(`${a?.error??a}`);return a}catch({message:e}){this.dispatch(ACTION.ERROR_REQUEST,e)}finally{this.dispatch(ACTION.COMPLETE_REQUEST)}}},P=()=>{const[e,a]=(0,l.useState)(null),[t,s]=(0,l.useState)(0),r=(0,l.useCallback)((()=>s(t+1)),[]),n=(0,l.useCallback)((()=>s(t-1)),[]);return(0,l.useEffect)((()=>{if(e)return()=>e.destroy();const t=new R.z(document.getElementById("app-loader"));return t.determinate=!1,a(t),z.subscribe("pending_request",r),z.subscribe("complete_request",n),()=>t.destroy()}),[]),(0,l.useMemo)((()=>{e&&(t?e.open():e.close())}),[t,e]),(0,c.createPortal)(l.createElement("div",{id:"app-loader",className:"mdc-circular-progress",style:{width:"48px",height:"48px"},role:"progressbar","aria-label":"Example Progress Bar","aria-valuemin":"0","aria-valuemax":"1"},l.createElement("div",{className:"mdc-circular-progress__determinate-container"},l.createElement("svg",{className:"mdc-circular-progress__determinate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},l.createElement("circle",{className:"mdc-circular-progress__determinate-track",cx:"24",cy:"24",r:"18",strokeWidth:"4"}),l.createElement("circle",{className:"mdc-circular-progress__determinate-circle",cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"113.097",strokeWidth:"4"}))),l.createElement("div",{className:"mdc-circular-progress__indeterminate-container"},l.createElement("div",{className:"mdc-circular-progress__spinner-layer"},l.createElement("div",{className:"mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left"},l.createElement("svg",{className:"mdc-circular-progress__indeterminate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},l.createElement("circle",{cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"56.549",strokeWidth:"4"}))),l.createElement("div",{className:"mdc-circular-progress__gap-patch"},l.createElement("svg",{className:"mdc-circular-progress__indeterminate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},l.createElement("circle",{cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"56.549",strokeWidth:"3.2"}))),l.createElement("div",{className:"mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right"},l.createElement("svg",{className:"mdc-circular-progress__indeterminate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},l.createElement("circle",{cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"56.549",strokeWidth:"4"})))))),document.body)};var W=t(613);const $=()=>{const[e,a]=(0,l.useState)(null),[t,s]=(0,l.useState)(""),r=(0,l.useCallback)((()=>s("")));return(0,l.useEffect)((()=>{if(e)return()=>e.destroy();const t=new W.G(document.getElementById("app-snackbar"));return t.labelText="Error",t.closeOnEscape=!0,t.listen("MDCSnackbar:closed",r),a(t),z.subscribe("error_request",s),()=>t.destroy()}),[]),(0,l.useMemo)((()=>{e&&(t?e.open():e.close())}),[t]),(0,c.createPortal)(l.createElement("aside",{id:"app-snackbar",className:"mdc-snackbar"},l.createElement("div",{className:"mdc-snackbar__surface",role:"status","aria-relevant":"additions"},l.createElement("div",{className:"mdc-snackbar__label","aria-atomic":"false"},t))),document.body)};c.render(l.createElement(l.Fragment,null,l.createElement(B,null),l.createElement(P,null),l.createElement($,null)),document.getElementById("root"))},650:()=>{}},e=>{var a=a=>e(e.s=a);e.O(0,[216],(()=>(a(253),a(650)))),e.O()}]);