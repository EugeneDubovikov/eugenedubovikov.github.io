"use strict";(self.webpackChunkgeotab=self.webpackChunkgeotab||[]).push([[179],{186:(e,t,a)=>{var c=a(294),r=a(935),s=a(974),n=a(252),l=a(479),i=a(403);const o=({title:e,formId:t,submitBtnId:a,children:[r,s],onSubmit:n,onClose:l})=>{const[o,d]=(0,c.useState)(null);return(0,c.useEffect)((()=>{if(o)return()=>o.destroy();const e=new i.W(document.getElementById("app-dialog"));return e.listen("MDCDialog:closing",l),d(e),e.open(),document.getElementById(t)?.addEventListener("submit",n),document.getElementById(t)?.addEventListener("input",(function(e){this.elements[a].disabled=!this.checkValidity()})),()=>e.destroy()}),[]),c.createElement("div",{id:"app-dialog",className:"mdc-dialog"},c.createElement("div",{className:"mdc-dialog__container"},c.createElement("div",{className:"mdc-dialog__surface"},c.createElement("h2",{className:"mdc-dialog__title centered"},e),c.createElement("div",{className:"mdc-dialog__content"},r),c.createElement("div",{className:"mdc-dialog__actions"},c.createElement("button",{type:"button",className:"mdc-button mdc-dialog__button","data-mdc-dialog-action":"close"},c.createElement("div",{className:"mdc-button__ripple"}),c.createElement("span",{className:"mdc-button__label"},"Cancel")),s))),c.createElement("div",{className:"mdc-dialog__scrim"}))};var d=a(113);const m=({type:e="text",name:t,value:a,placeholder:r,autoComplete:s="off",required:n=!1,onChange:l})=>{const[i,o]=(0,c.useState)(null),[m]=(0,c.useState)(h.next().value);return(0,c.useEffect)((()=>{if(i)return()=>i.destroy();const e=new d.K(document.getElementById(m));return o(e),()=>e.destroy()}),[]),(0,c.useEffect)((()=>{i&&(i.value=a)}),[a]),c.createElement("label",{id:m,className:"mdc-text-field mdc-text-field--filled auto-width"},c.createElement("span",{className:"mdc-text-field__ripple"}),c.createElement("span",{className:"mdc-floating-label",id:`${t}Field`},r),c.createElement("input",{type:e,name:t,defaultValue:a,autoComplete:s,className:"mdc-text-field__input",required:n,onChange:l}),c.createElement("span",{className:"mdc-line-ripple"}))},u={_listeners:{},subscribe(e,t,a=null){this._listeners[e]=[...this._listeners[e]??[],[t,a]]},dispatch(e,t){this._listeners[e]?.forEach((([e,a])=>{e.call(a,t)}))},unsubscribe(e,t){const a=this._listeners[e]?.findIndex(t)??-1;a>-1&&this._listeners[e].splice(a,1)},async makeRequest(e){let t;this.dispatch(ACTION.PENDING_REQUEST);try{const a=await fetch(e);try{t=await a.clone().json()}catch(e){t=await a.text()}if(!a.ok)throw new Error(`${t?.error??t}`);return t}catch({message:e}){this.dispatch(ACTION.ERROR_REQUEST,e),console.error(e)}finally{this.dispatch(ACTION.COMPLETE_REQUEST)}}},p="error_request",g="set_user",h=function*(e){for(;;)yield"_react_component_"+e++}(0);function v(){try{const{database:e,sessionId:t,userName:a}=JSON.parse(localStorage.getItem("geotabAPI_credentials"));return{email:a,database:e,sessionId:t,server:localStorage.getItem("geotabAPI_server")}}catch(e){}return null}function _(e,t){const a="authorize-form",s="form-submit-btn";r.render(c.createElement(o,{title:"Login to GeoTab",formId:a,submitBtnId:s,onSubmit:t=>{t.preventDefault();const a=new FormData(t?.target),c=a.get("username")?.trim(),s=a.get("password")?.trim(),n=a.get("database")?.trim(),l=a.get("server")?.trim();e({email:c,password:s,database:n,server:l}),u.dispatch(g,{email:c}),r.unmountComponentAtNode(document.getElementById("dialog-pane"))},onClose:()=>{r.unmountComponentAtNode(document.getElementById("dialog-pane")),t(new Error("Authentication failed"))}},[c.createElement("form",{key:"form",id:a,className:"flex flex--column flex--spreaded"},[c.createElement(m,{key:"server-input",name:"server",placeholder:"server",required:!0,value:"my5.geotab.com"}),c.createElement(m,{key:"database-input",name:"database",placeholder:"database",required:!0,value:"rollins"}),c.createElement(m,{key:"email-input",type:"email",name:"username",placeholder:"user name",autoComplete:"email",required:!0}),c.createElement(m,{key:"password-input",type:"password",name:"password",placeholder:"password",autoComplete:"current-password",required:!0})]),c.createElement("button",{key:"submit-button",id:s,type:"submit",form:a,className:"mdc-button mdc-dialog__button data-mdc-dialog-button-default",disabled:!0},[c.createElement("div",{key:"mdc-ripple",className:"mdc-button__ripple"}),c.createElement("span",{key:"submit-button-label",className:"mdc-button__label"},"Login")])]),document.getElementById("dialog-pane"))}(()=>{let e=!0;setInterval((()=>e=!0),200)})();const b={driver:new Map,rule:new Map,device:new Map,group:new Map,deviceStatusInfo:new Map},E=({options:e,name:t,label:a,onChange:r})=>{const[s,i]=(0,c.useState)(null),[o]=(0,c.useState)(h.next().value),{current:d}=(0,c.useRef)({instance:null});(0,c.useEffect)((()=>{if(s)return()=>s.destroy();const e=document.getElementById(o),t=new n.g(e);return t.setAnchorCorner(l.Ns.BOTTOM_LEFT),i(t),t.list.initializeListType(),d.instance=t,e.firstElementChild.addEventListener("change",m),()=>t.destroy()}),[]);const m=(0,c.useCallback)((e=>{const{instance:{list:a}}=d,{listElements:c}=a;r?.(t,c.reduce(((e,t)=>[...e,...t.getElementsByTagName("input").item(0)?.checked&&[t.id]||[]]),[]))}),[s]),u=(0,c.useMemo)((()=>e.map(f)),[e]),p=(0,c.useCallback)((()=>s&&(s.open=!0)),[s]);return c.createElement("div",{className:"mdc-menu-surface--anchor"},c.createElement("button",{className:"mdc-button mdc-button--raised",onClick:p,disabled:!u.length},c.createElement("span",{className:"mdc-button__ripple"}),c.createElement("span",{className:"mdc-button__label"},a)),c.createElement("div",{id:o,className:"mdc-menu mdc-menu-surface"},c.createElement("ul",{className:"mdc-deprecated-list",role:"menu","aria-hidden":"true","aria-orientation":"vertical",tabIndex:"-1"},u)))};function f({name:e,title:t,checked:a=!1,disabled:r=!1}){return c.createElement("li",{key:e,id:e,className:["mdc-deprecated-list-item",...r&&["mdc-deprecated-list-item--disabled"]||[]].join(" "),role:"checkbox","aria-checked":a},c.createElement("span",{className:"mdc-deprecated-list-item__ripple"}),c.createElement("span",{className:"mdc-deprecated-list-item__graphic"},c.createElement("div",{className:"mdc-checkbox"},c.createElement("input",{type:"checkbox",name:e,className:"mdc-checkbox__native-control",id:`checkbox-${e}`,defaultChecked:a,disabled:r}),c.createElement("div",{className:"mdc-checkbox__background"},c.createElement("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},c.createElement("path",{className:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),c.createElement("div",{className:"mdc-checkbox__mixedmark"})))),c.createElement("label",{className:"mdc-deprecated-list-item__text",htmlFor:`checkbox-${e}`},t))}let y,w;const N=async()=>y??(async()=>{let e,{email:t,sessionId:a,database:c,server:r}=v()??{};if(!t||!r)try{if(({email:t,password:e,database:c,server:r}=await(w??(w=new Promise(_)))),!(t&&e&&c&&r))throw new Error("Authentication failed")}catch({message:e}){return console.error(e),u.dispatch(p,e)}finally{w=null}if(y)return y;try{return y=new GeotabApi({credentials:{database:c,userName:t,...a&&{sessionId:a}||{password:e}},path:r})}catch({message:e}){console.error(e),u.dispatch(p,e)}})();function k(e,t){return t?async function(e){try{return await((await N())?.multiCall(e))}catch({message:e}){return u.dispatch(p,e),console.error(e),[]}}(e):x("Get",e)}async function x(e,t){try{return await((await N())?.call(e,t))}catch({message:e}){return u.dispatch(p,e),console.error(e),[]}}const C=c.createContext(null),S=[{name:"ayqvrTR8lIkiMFFZtHz2xdw",title:"Backing Up When Leaving",checked:!0},{name:"aCdkH9ou4QEKRsJmUYQh6CQ",title:"Harsh Acceleration",checked:!0},{name:"auV1Pjb5pTkC5OzkCwOxoJA",title:"Harsh Brake",checked:!0},{name:"a4zk6nwPd-kus-jY3zBPPqw",title:"Harsh Cornering",checked:!0},{name:"RuleAccidentId",title:"Possible Accident",checked:!0},{name:"aX_l5MgXx8UODDE5rq2ovKw",title:"Speeding > 80 MPH",checked:!0}],I=new Map([["divisions",{label:"Division",options:new Set,checked:new Set,dependentFilter:"regions"}],["regions",{label:"Region",options:new Set,checked:new Set,dependentFilter:"branches"}],["branches",{label:"Branch",options:new Set,checked:new Set}]]),T=({onChange:e})=>{const[t,a]=(0,c.useState)([]),{current:r}=(0,c.useRef)(I),s=(0,c.useContext)(C),n=async()=>{const e=await Promise.all([...r.entries()].map((async([e,{options:t,...a}])=>({...a,id:e,options:await Promise.all([...t.values()].map((async e=>{const[{name:t,disabled:a}]=await b.group.get(e);return function({id:e,name:t,disabled:a=!1}){return{name:e,title:t,disabled:a}}({id:e,name:t,disabled:a})})))}))));a(e)},l=(0,c.useCallback)((async(t,a)=>{r.get(t).checked=new Set(a),await async function e({dependentFilter:t,checked:a}){if(!r.has(t))return;const c=await[...a.values()].reduce((async(e,a)=>{const[{children:c=[]}={}]=await(b.group.get(a)??b.group.set(a,k({typeName:"Group",search:{id:a}})).get(a)),r=(await(b.group.get(`${a}-children`)??b.group.set(`${a}-children`,k(c.map((({id:e})=>["Get",{typeName:"Group",search:{id:e}}])),!0)).get(`${a}-children`))).map((([e])=>{const{id:a,children:{length:c}}=e;return b.group.set(a,Promise.resolve([{...e,..."branches"!==t&&!c&&{disabled:!0}}])),a}));return new Set([...await e,...r])}),Promise.resolve(new Set));return r.set(t,{...r.get(t),options:c,checked:new Set([...r.get(t).checked.values()].filter((e=>c.has(e))))}),e(r.get(t))}(r.get(t)),n(),e([...r.get("branches").checked.values()])}),[]);(0,c.useEffect)((async()=>{const[{children:e={}}={}]=await k({typeName:"Group",search:{id:"b271F"}}),t=(await(b.group.get("b271F-children")??b.group.set("b271F-children",k(e.map((({id:e})=>["Get",{typeName:"Group",search:{id:e}}])),!0)).get("b271F-children"))).map((([e])=>{const{id:t,children:{length:a}}=e;return b.group.set(t,Promise.resolve([{...e,...!a&&{disabled:!0}}])),t}));r.set("divisions",{...r.get("divisions"),options:new Set(t)}),n()}),[s]);const i=(0,c.useMemo)((()=>t.map((({id:e,options:t,label:a})=>c.createElement("div",{key:e,className:"filter-control"},c.createElement(E,{options:t,name:e,label:a,onChange:l}))))),[t]);return c.createElement("div",{className:"flex flex--spreaded flex--wrap"},i)};var D=a(243),L=a.n(D);const B=(O=new DOMParser,e=>O.parseFromString(e,"text/html").body?.firstElementChild??document.createElement("div"));var O;a(803),a(134);const M=({filter:e,groupFilter:t,children:[a,r]})=>{const s=(0,c.useContext)(C),{current:n}=(0,c.useRef)({feedData:[],deviceStatusInfoData:[],cars:{},carsData:{},map:null});return(0,c.useEffect)((async()=>{let[e,t,a,c]=["",[50,30],"",""];try{({accessToken:e,center:t,attribution:a,tileLayerUrl:c}=await(await fetch("./app-config.json")).json())}catch({message:e}){return console.error(e),void u.dispatch(p,e)}const r=n.map=L().map("leaflet-map").setView(t,11);L().tileLayer(c,{attribution:a,maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:e}).addTo(r)}),[]),(0,c.useEffect)((async()=>{if(!s||!t.length)return P({},n.cars,n.map);const e=await async function(e){return k({typeName:"DeviceStatusInfo",resultsLimit:100,search:{deviceSearch:{groups:e}}})}(t);P(Object.fromEntries(e.map((e=>[e.device.id,e]))),n.cars,n.map);const{latitude:a,longitude:c}=e[e.length-1]??{};a&&c&&n.map.panTo(L().latLng(a,c),{animate:!0})}),[s,t]),c.createElement("div",{className:"leaflet-map-map auto-height"},c.createElement("div",{id:"leaflet-map",className:"auto-height"}),c.createElement("div",{className:"leaflet-map-overlay"},a),c.createElement("div",{className:"leaflet-map-overlay leaflet-map-overlay--right"},r))};function P(e,t,a){Object.entries(e).forEach((([e,c])=>{if(e in t)return function(e,{latitude:t,longitude:a}){return e.setLatLng(L().latLng(t,a))}(t[e],c);t[e]=function({latitude:e,longitude:t,device:{id:a},...c},r){return L().marker(L().latLng(e,t),{icon:L().divIcon({iconSize:L().point(24,24),className:"car-icon material-icons",html:"directions_car"})}).addTo(r).on("mouseover",R,{id:a,...c})}(c,a)}));const c=Object.keys(e);Object.entries(t).forEach((([e,a])=>{c.includes(e)||(a.remove(),delete t[e])}))}async function R(e){var t,a;t=e.target,a=B('<div class="car-tooltip__stub material-icons">access_time</div>'),t.bindTooltip(a).openTooltip();const[{groups:c,driver:{id:r},exceptionEvents:s,isDriving:n,speed:l,latitude:i,longitude:o}]=await(b.deviceStatusInfo.get(this.id)??b.deviceStatusInfo.set(this.id,k({typeName:"DeviceStatusInfo",resultsLimit:1,search:{deviceSearch:{id:this.id}}})).get(this.id)),d=n&&`Driving at ${l} Mph`||"Stopped",[{name:m}]=await(b.device.get(this.id)??b.device.set(this.id,k({typeName:"Device",resultsLimit:1,search:{id:this.id}})).get(this.id)),[{name:u}]=await(b.driver.get(r)??b.driver.set(r,k({typeName:"User",resultsLimit:1,search:{id:r}})).get(r)),p=await Promise.all(s.map((async({rule:{id:e}})=>{const[{name:t}]=await(b.rule.get(e)??b.rule.set(e,k({typeName:"Rule",resultsLimit:1,search:{id:e}})).get(e));return t}))),g=(await Promise.all(c.map((async({id:e})=>{const[{name:t}]=await(b.group.get(e)??b.group.set(e,k({typeName:"Group",resultsLimit:1,search:{id:e}})).get(e));return t})))).join(" "),[{formattedAddress:h}]=await async function(e){return x("GetAddresses",e)}({coordinates:[{x:i,y:o}]});e.target.setTooltipContent(B((({name:e="",status:t="",groups:a="",driver:c="",driverFICO:r="",location:s="",issues:n=[]})=>`\n        <div class="car-tooltip">\n            <div class="car-tooltip__icon material-icons">directions_car</div>\n            <div class="car-tooltip__name">${e}</div>\n            <div class="car-tooltip__status">${t}</div>\n            <div class="car-tooltip__group">${a}</div>\n            <div class="car-tooltip__driver">${c}</div>\n            <div class="car-tooltip__driver-fico">\n                <span>FICO:</span>\n                <span>${r}</span>\n            </div>\n            <div class="car-tooltip__location">${s}</div>\n            <div class="car-tooltip__issues">${n.reduce(((e,t)=>`${e}<li class="issues__item">${t}</li>`),'<ul class="issues__list">')+"</ul"}</div>\n        </div>`)({name:m,status:d,driver:u,groups:g,issues:p,location:h,driverFICO:"0"})))}var F=a(828);const A=(e,t)=>c.createElement("th",{key:t,className:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},e),$=(e,t)=>c.createElement("td",{key:t,className:"mdc-data-table__cell"},e),G=({id:e,columns:t})=>c.createElement("tr",{key:e,className:"mdc-data-table__row"},t.map($)),U=({head:e,body:t,onClick:a})=>{const[r,s]=(0,c.useState)(null);(0,c.useEffect)((()=>{if(r)return()=>e.destroy();const e=new F.T(document.getElementById("app-data-table"));return s(e),()=>e.destroy()}),[]),(0,c.useLayoutEffect)((()=>{r?.layout()}),[t]);const n=(0,c.useMemo)((()=>e.map(A)),[e]),l=(0,c.useMemo)((()=>t.map(G)),[t]);return c.createElement("div",{id:"app-data-table",className:"mdc-data-table auto-width",style:{overflow:"hidden"}},c.createElement("div",{className:"mdc-data-table__table-container"},c.createElement("table",{className:"mdc-data-table__table"},c.createElement("thead",null,c.createElement("tr",{className:"mdc-data-table__header-row"},n)),c.createElement("tbody",{className:"mdc-data-table__content",onClick:a},l))))};let j,q,z=!0;const W=["Time","Event Name","Vehicle Name","Driver","Location","Branch"],H=({filter:e=[],exceptionRules:t=[]})=>{const[a,r]=(0,c.useState)([]),s=(0,c.useContext)(C),{current:n}=(0,c.useRef)({feedData:[]}),l=async()=>{const c=function(){const e=new Date;return e.setSeconds(e.getSeconds()-1800),e}(),s=n.feedData.findIndex((({activeTo:e})=>e>=c));(s<0||s>n.feedData.length-10)&&!j&&z&&(async()=>{z=!1,setTimeout((e=>z=e),3e4,!0),n.feedData=await(j=async function(e,t,a){const c=await async function(e,t,a){return(await k(a.map((a=>["GetFeed",{typeName:"ExceptionEvent",resultsLimit:100,search:{fromDate:e,deviceSearch:{groups:t},ruleSearch:{id:a}}}])),!0)).map((({data:e})=>e.map(Q))).flat().sort(V)}(e,t,a);return Promise.all(c.map((async({id:e,activeTo:t,device:{id:a},driver:{id:c},rule:{id:r}})=>{const{device:s,branch:n}=await(async e=>{const[{name:t="Unknown",groups:[{id:a}]}]=await(b.device.get(e)??b.device.set(e,k({typeName:"Device",resultsLimit:1,search:{id:e}})).get(e)),[{name:c="Unknown"}]=await(b.group.get(a)??b.group.set(a,k({typeName:"Group",resultsLimit:1,search:{id:a}})).get(a));return{device:t,branch:c}})(a),[{name:l="Unknown"}]=await(b.driver.get(c)??b.driver.set(c,k({typeName:"User",resultsLimit:1,search:{id:c}})).get(c)),[{name:i="Unknown"}]=await(b.rule.get(r)??b.rule.set(r,k({typeName:"Rule",resultsLimit:1,search:{id:r}})).get(r));return{id:e,activeTo:t,rule:i,device:s,driver:l,location:"Unknown",branch:n}})))}(c.toISOString(),e,t)),j=null})();const i=s>-1&&n.feedData.slice(0,s)||n.feedData;r([...a,...i.map(J)].slice(-100)),q=setTimeout(l,1e3)},i=(0,c.useCallback)((()=>{}),[]);return(0,c.useEffect)((()=>{clearTimeout(q),s&&e.length&&t.length&&l()}),[s,e,t]),c.createElement(U,{head:W,body:a,onClick:i})};function Q({activeTo:e,...t}){return{activeTo:Date.parse(e),...t}}function V({activeTo:e},{activeTo:t}){return function(e,t){return e>t?1:e<t?-1:0}(e,t)}function J({id:e,activeTo:t,rule:a,device:c,driver:r,location:s,branch:n}){return{id:e,columns:[new Date(t).toLocaleTimeString(),a,c,r,s,n]}}const K={async"user-login"(){try{await N()}catch({message:e}){u.dispatch(p,e)}},"user-logout":function(){y?.forget(),u.dispatch(g,null)}},X=()=>{const[e,t]=(0,c.useState)(null),a=(0,c.useContext)(C);(0,c.useEffect)((()=>{if(e)return()=>e.destroy();const a=document.getElementById("auth-menu"),c=new n.g(a);return c.setAnchorCorner(l.Ns.BOTTOM_LEFT),c.listen("MDCMenu:selected",(({detail:{item:{id:e}}})=>K[e]?.())),t(c),()=>c.destroy()}),[]);const r=(0,c.useMemo)((()=>a?.email??"Guest"),[a]),s=(0,c.useMemo)((()=>[c.createElement("li",{key:"user-action",id:a?.email?"user-logout":"user-login",className:"mdc-deprecated-list-item"},c.createElement("span",{className:"mdc-deprecated-list-item__ripple"}),c.createElement("span",{className:"mdc-list-item__text"},a?.email?"Logout":"Login"))]),[a]),i=(0,c.useCallback)((()=>e&&(e.open=!0)),[e]);return c.createElement("div",{className:"mdc-menu-surface--anchor"},c.createElement("button",{className:"mdc-top-app-bar__action-item mdc-button",onClick:i},c.createElement("div",{className:"mdc-button__ripple"}),c.createElement("i",{className:"material-icons mdc-button__icon"},"account_circle"),c.createElement("span",{className:"mdc-button__label mobile-hidden"},r)),c.createElement("div",{id:"auth-menu",className:"mdc-menu mdc-menu-surface"},c.createElement("ul",{className:"mdc-deprecated-list"},s)))},Y=()=>{const[e,t]=(0,c.useState)(v()),[a,r]=(0,c.useState)([]),[n,l]=(0,c.useState)(S.map((({name:e})=>e))),[i,o]=(0,c.useState)([]),[d,m]=(0,c.useState)([]);(0,c.useEffect)((()=>{new s.t(document.getElementById("top-app-bar")),u.subscribe(g,t)}));const p=(0,c.useCallback)((async e=>{if(!e.length)return r([]),m([]),o([]);const t=e.map((e=>({id:e})));o(t),m(t)}),[]),h=(0,c.useCallback)(((...[,e])=>{l(e)}),[]);return c.createElement(C.Provider,{value:e},c.createElement("header",{id:"top-app-bar",className:"mdc-top-app-bar mdc-top-app-bar--fixed"},c.createElement("div",{className:"mdc-top-app-bar__row"},c.createElement("section",{className:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"},c.createElement("a",{href:"https://www.rollins.com",title:"Rollins Inc."},c.createElement("img",{className:"app-logo",src:"https://www.rollins.com/~/media/Images/R/Rollins-V2/logo/logo.png?h=69&la=en&w=137",alt:"Rollins Inc. - link to home page"}))),c.createElement("section",{className:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end",role:"toolbar"},c.createElement(X,null)))),c.createElement("main",{id:"root",className:"mdc-top-app-bar--fixed-adjust mdc-layout-grid"},c.createElement("div",{className:"mdc-layout-grid__inner"},c.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},c.createElement("h1",{className:"mdc-typography--headline4 centered"},"Real time data")),c.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12 leaflet-map-container"},c.createElement(M,{filter:a,groupFilter:d},c.createElement(T,{onChange:p}),c.createElement(E,{options:S,onChange:h,name:"event_configurator",label:"Filter Events"}))),c.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},c.createElement("h2",{className:"mdc-typography--headline5 centered"},"Event log")),c.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},c.createElement(H,{filter:i,exceptionRules:n})))))};var Z=a(825);const ee=()=>{const[e,t]=(0,c.useState)(null),[a,s]=(0,c.useState)(0),n=(0,c.useCallback)((()=>s(a+1)),[]),l=(0,c.useCallback)((()=>s(a-1)),[]);return(0,c.useEffect)((()=>{if(e)return()=>e.destroy();const a=new Z.z(document.getElementById("app-loader"));return a.determinate=!1,t(a),u.subscribe("pending_request",n),u.subscribe("complete_request",l),()=>a.destroy()}),[]),(0,c.useEffect)((()=>{e&&(a?e.open():e.close())}),[a,e]),(0,r.createPortal)(c.createElement("div",{id:"app-loader",className:"mdc-circular-progress app-loader",role:"progressbar","aria-label":"Example Progress Bar","aria-valuemin":"0","aria-valuemax":"1"},c.createElement("div",{className:"mdc-circular-progress__determinate-container"},c.createElement("svg",{className:"mdc-circular-progress__determinate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},c.createElement("circle",{className:"mdc-circular-progress__determinate-track",cx:"24",cy:"24",r:"18",strokeWidth:"4"}),c.createElement("circle",{className:"mdc-circular-progress__determinate-circle",cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"113.097",strokeWidth:"4"}))),c.createElement("div",{className:"mdc-circular-progress__indeterminate-container"},c.createElement("div",{className:"mdc-circular-progress__spinner-layer"},c.createElement("div",{className:"mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left"},c.createElement("svg",{className:"mdc-circular-progress__indeterminate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},c.createElement("circle",{cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"56.549",strokeWidth:"4"}))),c.createElement("div",{className:"mdc-circular-progress__gap-patch"},c.createElement("svg",{className:"mdc-circular-progress__indeterminate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},c.createElement("circle",{cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"56.549",strokeWidth:"3.2"}))),c.createElement("div",{className:"mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right"},c.createElement("svg",{className:"mdc-circular-progress__indeterminate-circle-graphic",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},c.createElement("circle",{cx:"24",cy:"24",r:"18",strokeDasharray:"113.097",strokeDashoffset:"56.549",strokeWidth:"4"})))))),document.body)};var te=a(613);const ae=()=>{const[e,t]=(0,c.useState)(null),[a,s]=(0,c.useState)(""),n=(0,c.useCallback)((()=>s("")));return(0,c.useEffect)((()=>{if(e)return()=>e.destroy();const a=new te.G(document.getElementById("app-snackbar"));return a.labelText="Error",a.closeOnEscape=!0,a.listen("MDCSnackbar:closed",n),t(a),u.subscribe(p,s),()=>a.destroy()}),[]),(0,c.useEffect)((()=>{e&&(a?e.open():e.close())}),[a]),(0,r.createPortal)(c.createElement("aside",{id:"app-snackbar",className:"mdc-snackbar",style:{zIndex:9e3}},c.createElement("div",{className:"mdc-snackbar__surface",role:"status","aria-relevant":"additions"},c.createElement("div",{className:"mdc-snackbar__label","aria-atomic":"false"},a))),document.body)};a(87),r.render(c.createElement(c.Fragment,null,c.createElement(Y,null),c.createElement(ae,null),c.createElement(ee,null)),document.getElementById("root"))},87:(e,t,a)=>{e.exports=a.p+"app-config.json"}},e=>{e.O(0,[216],(()=>(186,e(e.s=186)))),e.O()}]);